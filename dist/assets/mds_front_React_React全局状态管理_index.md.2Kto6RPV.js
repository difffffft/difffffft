import{_ as s,c as i,o as a,U as n}from"./chunks/framework.hWf9kaa6.js";const t="data:image/png;base64,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",F=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"mds/front/React/React全局状态管理/index.md","filePath":"mds/front/React/React全局状态管理/index.md","lastUpdated":1704782344000}'),h={name:"mds/front/React/React全局状态管理/index.md"},k=n(`<h2 id="react全局状态管理zustand" tabindex="-1">React全局状态管理<strong>Zustand</strong> <a class="header-anchor" href="#react全局状态管理zustand" aria-label="Permalink to &quot;React全局状态管理**Zustand**&quot;">​</a></h2><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> create </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;zustand&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> useCounterStore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 修改数据的方法</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  increase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ count: state.count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  decrease</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ count: state.count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}))</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> useCounterStore</span></span></code></pre></div><h2 id="react全局状态绑定到组件" tabindex="-1">React全局状态绑定到组件 <a class="header-anchor" href="#react全局状态绑定到组件" aria-label="Permalink to &quot;React全局状态绑定到组件&quot;">​</a></h2><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> useCounterStore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./store&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> App</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useCounterStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.count)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> decrease</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useCounterStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.increase)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> increase</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useCounterStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.decrease)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{decrease}&gt;+&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{count}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{increase}&gt;-&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App</span></span></code></pre></div><h2 id="异步支持" tabindex="-1">异步支持 <a class="header-anchor" href="#异步支持" aria-label="Permalink to &quot;异步支持&quot;">​</a></h2><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useEffect } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> useListStore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./store&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> App</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useListStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.list)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fetchList</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useListStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.fetchList)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  useEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    fetchList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, [])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(list)}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App</span></span></code></pre></div><h2 id="react中使用redux" tabindex="-1">React中使用Redux <a class="header-anchor" href="#react中使用redux" aria-label="Permalink to &quot;React中使用Redux&quot;">​</a></h2><p>在React中使用Redux，官方要求安装两个其他插件，Redux Toolkit（RTK），React-redux。</p><p>安装</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @reduxjs/toolkit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> react-redux</span></span></code></pre></div><p>设计目录</p><p><img src="`+t+`" alt=""></p><p>编写</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createSlice } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@reduxjs/toolkit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userStore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createSlice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    initialState:{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        username: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;张三&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    reducers:{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        changeUsername</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            state.username </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> action.payload</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 方法暴露</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">changeUsername</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userStore.actions</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// reducer暴露</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userStore.reducer</span></span></code></pre></div><p>注册</p><p>store/index.ts</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { configureStore } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@reduxjs/toolkit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userReducer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./modules/userStore&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> store</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> configureStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    reducer:{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        userReducer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> store</span></span></code></pre></div><p>main.ts</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Provider</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> store</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{store}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">App</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Provider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>组件中的使用</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./App.css&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useDispatch, useSelector } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react-redux&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { changeUsername } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./store/modules/userStore&#39;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useSelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.userReducer)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{username}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> App</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dispatcher</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useDispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ ()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dispatcher</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">changeUsername</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;李四&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) }&gt;修改&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App</span></span></code></pre></div>`,21),p=[k];function l(e,E,r,d,g,y){return a(),i("div",null,p)}const o=s(h,[["render",l]]);export{F as __pageData,o as default};
