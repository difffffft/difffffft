import{_ as a,c as s,o as e,R as n}from"./chunks/framework.43nt70q0.js";const v=JSON.parse('{"title":"编译v8","description":"","frontmatter":{"title":"编译v8","date":"2023-07-15","categories":["前端"]},"headers":[],"relativePath":"mds/front/编译V8/index.md","filePath":"mds/front/编译V8/index.md","lastUpdated":null}'),t={name:"mds/front/编译V8/index.md"},p=n(`<h2 id="环境" tabindex="-1">环境 <a class="header-anchor" href="#环境" aria-label="Permalink to &quot;环境&quot;">​</a></h2><ul><li><p>科学上网工具</p></li><li><p>Visual Studio 2022 使用C++的桌面开发</p></li><li><p>Windows SDK（开启Debug）</p></li><li><p>depot工具</p></li></ul><h2 id="环境变量配置" tabindex="-1">环境变量配置 <a class="header-anchor" href="#环境变量配置" aria-label="Permalink to &quot;环境变量配置&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Path新增：C:\\src\\depot_tools (确保Python和Git是depot_tools里面的)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>vs2022_install ：C:\\Program Files\\Microsoft Visual Studio\\2022\\Enterprise</span></span>
<span class="line"><span></span></span>
<span class="line"><span>DEPOT_TOOLS_WIN_TOOLCHAIN ：0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>GYP_MSVS_VERSION : 2022</span></span></code></pre></div><h2 id="打开控制台以管理员方式运行" tabindex="-1">打开控制台以管理员方式运行 <a class="header-anchor" href="#打开控制台以管理员方式运行" aria-label="Permalink to &quot;打开控制台以管理员方式运行&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>cd C:/src/v8</span></span>
<span class="line"><span></span></span>
<span class="line"><span>set http_proxy=http://127.0.0.1:15732 &amp;&amp; set https_proxy=http://127.0.0.1:15732</span></span></code></pre></div><h2 id="更新依赖" tabindex="-1">更新依赖 <a class="header-anchor" href="#更新依赖" aria-label="Permalink to &quot;更新依赖&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>gclient sync</span></span></code></pre></div><h2 id="获取最新的代码" tabindex="-1">获取最新的代码 <a class="header-anchor" href="#获取最新的代码" aria-label="Permalink to &quot;获取最新的代码&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>fetch v8</span></span>
<span class="line"><span>git pull origin</span></span></code></pre></div><h2 id="官方编译" tabindex="-1">官方编译 <a class="header-anchor" href="#官方编译" aria-label="Permalink to &quot;官方编译&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>cd C:\\src\\v8</span></span>
<span class="line"><span>python C:\\src\\v8\\tools\\dev\\gm.py x86.release.check</span></span></code></pre></div><h2 id="自行编译" tabindex="-1">自行编译 <a class="header-anchor" href="#自行编译" aria-label="Permalink to &quot;自行编译&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>gn gen --ide=vs out/x64.release --args=&quot;is_debug=false is_component_build=true&quot;</span></span>
<span class="line"><span>ninja -C out/x64.release -j 8</span></span></code></pre></div><h2 id="测试" tabindex="-1">测试 <a class="header-anchor" href="#测试" aria-label="Permalink to &quot;测试&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>C:\\src\\v8\\tools\\dev\\out\\x64.release</span></span>
<span class="line"><span>d8 hello.js</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>consolo.log(&quot;Hello World!&quot;)</span></span></code></pre></div>`,17),i=[p];function l(o,c,d,h,r,u){return e(),s("div",null,i)}const b=a(t,[["render",l]]);export{v as __pageData,b as default};
