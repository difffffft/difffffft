import{G as S,r as o,H as x,o as c,A as g,n as a,b as e,k as t,q as B,l as _,w as L,s as k}from"./index-bf47055b.js";import{u as U}from"./useDownload-5b442594.js";const D=k({name:"SysLogLogin"}),j=Object.assign(D,{setup(H){const{state:n,getDataList:u,selectionChangeHandle:f,sizeChangeHandle:y,currentChangeHandle:b}=S({baseUrl:"/sys/log/login",queryForm:{username:"",address:"",status:""}}),C=()=>{U({url:"/sys/log/login/export",method:"GET"})()};return(h,l)=>{const d=o("el-input"),i=o("el-form-item"),w=o("BaseSelect"),p=o("el-button"),V=o("el-form"),s=o("el-table-column"),m=o("BaseTableColumn"),v=o("el-table"),q=o("el-pagination"),z=o("el-card"),F=x("loading");return c(),g(z,null,{default:a(()=>[e(V,{inline:!0,model:t(n).queryForm,onKeyup:l[5]||(l[5]=B(r=>t(u)(),["enter"]))},{default:a(()=>[e(i,null,{default:a(()=>[e(d,{modelValue:t(n).queryForm.username,"onUpdate:modelValue":l[0]||(l[0]=r=>t(n).queryForm.username=r),placeholder:"用户名"},null,8,["modelValue"])]),_:1}),e(i,null,{default:a(()=>[e(d,{modelValue:t(n).queryForm.address,"onUpdate:modelValue":l[1]||(l[1]=r=>t(n).queryForm.address=r),placeholder:"登录地点"},null,8,["modelValue"])]),_:1}),e(i,null,{default:a(()=>[e(w,{modelValue:t(n).queryForm.status,"onUpdate:modelValue":l[2]||(l[2]=r=>t(n).queryForm.status=r),"dict-type":"success_fail",placeholder:"登录状态",clearable:""},null,8,["modelValue"])]),_:1}),e(i,null,{default:a(()=>[e(p,{onClick:l[3]||(l[3]=r=>t(u)())},{default:a(()=>[_("查询")]),_:1})]),_:1}),e(i,null,{default:a(()=>[e(p,{type:"primary",onClick:l[4]||(l[4]=r=>C())},{default:a(()=>[_("导出")]),_:1})]),_:1})]),_:1},8,["model"]),L((c(),g(v,{data:t(n).dataList,border:"",style:{width:"100%"},onSelectionChange:t(f)},{default:a(()=>[e(s,{type:"selection","header-align":"center",align:"center",width:"50"}),e(s,{prop:"id",label:"序号","header-align":"center",align:"center"}),e(s,{prop:"username",label:"用户名","header-align":"center",align:"center"}),e(s,{prop:"ip",label:"登录IP","header-align":"center",align:"center"}),e(s,{prop:"user_agent",label:"User Agent","show-overflow-tooltip":"","header-align":"center",align:"center"}),e(m,{prop:"status",label:"登录状态","dict-type":"success_fail"}),e(m,{prop:"operation",label:"操作信息","dict-type":"login_operation"}),e(s,{prop:"create_time",label:"登录时间","header-align":"center",align:"center",width:"165"})]),_:1},8,["data","onSelectionChange"])),[[F,t(n).dataListLoading]]),e(q,{"current-page":t(n).page,"page-sizes":t(n).pageSizes,"page-size":t(n).limit,total:t(n).total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:t(y),onCurrentChange:t(b)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"])]),_:1})}}});export{j as default};
