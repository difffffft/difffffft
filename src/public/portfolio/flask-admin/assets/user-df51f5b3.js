import{G as x,r as o,H as I,o as C,A as b,n as t,b as e,k as l,l as m,w as L,E as D}from"./index-bf47055b.js";import{d as N}from"./role-bd3b5144.js";const E={__name:"user",props:{roleId:{type:Number,required:!0}},setup(f){const u=f,{state:n,getDataList:p,sizeChangeHandle:h,selectionChangeHandle:y,sortChangeHandle:S,currentChangeHandle:V,deleteBatchHandle:c}=x({baseUrl:"/sys/role/user",deleteUrl:"/sys/role/user/"+u.roleId,queryForm:{role_id:u.roleId,username:"",mobile:"",gender:""}}),q=g=>{N(u.roleId,g).then(()=>{D.success({message:"操作成功",duration:500,onClose:()=>{p()}})})};return(g,a)=>{const _=o("el-input"),s=o("el-form-item"),v=o("BaseSelect"),i=o("el-button"),z=o("BaseUser"),B=o("el-form"),d=o("el-table-column"),k=o("BaseTableColumn"),F=o("el-table"),U=o("el-pagination"),w=o("el-card"),H=I("loading");return C(),b(w,null,{default:t(()=>[e(B,{inline:!0,model:l(n).queryForm},{default:t(()=>[e(s,null,{default:t(()=>[e(_,{modelValue:l(n).queryForm.username,"onUpdate:modelValue":a[0]||(a[0]=r=>l(n).queryForm.username=r),placeholder:"用户名"},null,8,["modelValue"])]),_:1}),e(s,null,{default:t(()=>[e(_,{modelValue:l(n).queryForm.mobile,"onUpdate:modelValue":a[1]||(a[1]=r=>l(n).queryForm.mobile=r),placeholder:"手机号"},null,8,["modelValue"])]),_:1}),e(s,null,{default:t(()=>[e(v,{modelValue:l(n).queryForm.gender,"onUpdate:modelValue":a[2]||(a[2]=r=>l(n).queryForm.gender=r),"dict-type":"user_gender",clearable:"",placeholder:"性别"},null,8,["modelValue"])]),_:1}),e(s,null,{default:t(()=>[e(i,{onClick:a[3]||(a[3]=r=>l(p)())},{default:t(()=>[m("查询")]),_:1})]),_:1}),e(z,{onSelect:q}),e(s,null,{default:t(()=>[e(i,{type:"danger",onClick:a[4]||(a[4]=r=>l(c)())},{default:t(()=>[m("删除")]),_:1})]),_:1})]),_:1},8,["model"]),L((C(),b(F,{data:l(n).dataList,border:"",style:{width:"100%"},onSelectionChange:l(y),onSortChange:l(S)},{default:t(()=>[e(d,{type:"selection","header-align":"center",align:"center",width:"50"}),e(d,{prop:"username",label:"用户名","header-align":"center",align:"center"}),e(d,{prop:"mobile",label:"手机号","header-align":"center",align:"center"}),e(d,{prop:"real_name",label:"姓名","header-align":"center",align:"center"}),e(k,{prop:"gender",label:"性别","dict-type":"user_gender"}),e(d,{label:"操作",fixed:"right","header-align":"center",align:"center",width:"150"},{default:t(r=>[e(i,{type:"primary",link:"",onClick:T=>l(c)(r.row.id)},{default:t(()=>[m("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange","onSortChange"])),[[H,l(n).dataListLoading]]),e(U,{"current-page":l(n).page,"page-sizes":l(n).pageSizes,"page-size":l(n).limit,total:l(n).total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:l(h),onCurrentChange:l(V)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"])]),_:1})}}};export{E as default};
