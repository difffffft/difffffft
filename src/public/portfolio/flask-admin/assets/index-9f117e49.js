import{G as H,f as L,r,H as v,o as d,A as i,n as l,b as t,k as e,q as D,l as m,w as _,s as O}from"./index-bf47055b.js";import R from"./add-or-update-3067dd55.js";import"./post-d3d1e315.js";import"./useRefFormData-84c825c7.js";import"./lodash-3ffe41b4.js";const T=O({name:"SysPost"}),E=Object.assign(T,{setup(j){const{state:a,getDataList:g,selectionChangeHandle:k,sizeChangeHandle:V,currentChangeHandle:q,deleteBatchHandle:f}=H({baseUrl:"/sys/post",queryForm:{post_code:"",post_name:"",status:""}}),y=L(),C=b=>{y.value.init(b)};return(b,n)=>{const h=r("el-input"),s=r("el-form-item"),w=r("BaseSelect"),p=r("el-button"),z=r("el-form"),u=r("el-table-column"),F=r("BaseTableColumn"),S=r("el-table"),B=r("el-pagination"),U=r("el-card"),c=v("auth"),$=v("loading");return d(),i(U,null,{default:l(()=>[t(z,{inline:!0,model:e(a).queryForm,onKeyup:n[6]||(n[6]=D(o=>e(g)(),["enter"]))},{default:l(()=>[t(s,null,{default:l(()=>[t(h,{modelValue:e(a).queryForm.post_code,"onUpdate:modelValue":n[0]||(n[0]=o=>e(a).queryForm.post_code=o),placeholder:"岗位编码",clearable:""},null,8,["modelValue"])]),_:1}),t(s,null,{default:l(()=>[t(h,{modelValue:e(a).queryForm.post_name,"onUpdate:modelValue":n[1]||(n[1]=o=>e(a).queryForm.post_name=o),placeholder:"岗位名称",clearable:""},null,8,["modelValue"])]),_:1}),t(s,null,{default:l(()=>[t(w,{modelValue:e(a).queryForm.status,"onUpdate:modelValue":n[2]||(n[2]=o=>e(a).queryForm.status=o),"dict-type":"post_status",clearable:"",placeholder:"状态"},null,8,["modelValue"])]),_:1}),t(s,null,{default:l(()=>[t(p,{onClick:n[3]||(n[3]=o=>e(g)())},{default:l(()=>[m("查询")]),_:1})]),_:1}),t(s,null,{default:l(()=>[_((d(),i(p,{type:"primary",onClick:n[4]||(n[4]=o=>C())},{default:l(()=>[m("新增")]),_:1})),[[c,"sys:post:save"]])]),_:1}),t(s,null,{default:l(()=>[_((d(),i(p,{type:"danger",onClick:n[5]||(n[5]=o=>e(f)())},{default:l(()=>[m("删除")]),_:1})),[[c,"sys:post:delete"]])]),_:1})]),_:1},8,["model"]),_((d(),i(S,{data:e(a).dataList,border:"",style:{width:"100%"},onSelectionChange:e(k)},{default:l(()=>[t(u,{type:"selection","header-align":"center",align:"center",width:"50"}),t(u,{prop:"post_code",label:"岗位编码","header-align":"center",align:"center"}),t(u,{prop:"post_name",label:"岗位名称","header-align":"center",align:"center"}),t(u,{prop:"sort",label:"排序","header-align":"center",align:"center"}),t(F,{prop:"status",label:"状态","dict-type":"post_status"}),t(u,{label:"操作",fixed:"right","header-align":"center",align:"center",width:"150"},{default:l(o=>[_((d(),i(p,{type:"primary",link:"",onClick:x=>C(o.row.id)},{default:l(()=>[m("修改")]),_:2},1032,["onClick"])),[[c,"sys:post:update"]]),_((d(),i(p,{type:"primary",link:"",onClick:x=>e(f)(o.row.id)},{default:l(()=>[m("删除")]),_:2},1032,["onClick"])),[[c,"sys:post:delete"]])]),_:1})]),_:1},8,["data","onSelectionChange"])),[[$,e(a).dataListLoading]]),t(B,{"current-page":e(a).page,"page-sizes":e(a).pageSizes,"page-size":e(a).limit,total:e(a).total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e(V),onCurrentChange:e(q)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"]),t(R,{ref_key:"addOrUpdateRef",ref:y,onRefreshDataList:e(g)},null,8,["onRefreshDataList"])]),_:1})}}});export{E as default};
