import{am as h}from"./index-bf47055b.js";const t=h("tabsStore",{state:()=>({visitedViews:[],cachedViews:[]}),actions:{addView(e){this.visitedViews.some(s=>s.path===e.path)||this.visitedViews.push(Object.assign({},e,{contextmenuVisible:!1,title:e.meta.title||"unknown"}))},addCachedView(e){this.cachedViews.includes(e.name)||e.meta.cache&&this.cachedViews.push(e.name)},delView(e){for(const[s,i]of this.visitedViews.entries())if(i.path===e.path){this.visitedViews.splice(s,1);break}this.delCachedView(e).then()},delCachedView(e){return new Promise(s=>{const i=this.cachedViews.indexOf(e.name);i>-1&&this.cachedViews.splice(i,1),s([...this.cachedViews])})},delOthersViews(e){this.visitedViews=this.visitedViews.filter(i=>i.meta.affix||i.path===e.path);const s=this.cachedViews.indexOf(e.name);s>-1?this.cachedViews=this.cachedViews.slice(s,s+1):this.cachedViews=[]},delAllViews(){this.visitedViews=this.visitedViews.filter(e=>e.meta.affix),this.cachedViews=[]}}}),n=(e,s)=>{const i=t();s.meta&&s.meta.affix||(i.delView(s),c(e,i.visitedViews,s))},l=(e,s)=>{const i=t();e.push(s),i.delOthersViews(s)},V=(e,s)=>{const i=t();i.delAllViews(),c(e,i.visitedViews,s)},c=(e,s,i)=>{const a=s.slice(-1)[0];a?e.push(a.fullPath):i.name==="Home"?e.replace({path:"/redirect"+i.fullPath}):e.push("/")};export{V as a,l as b,n as c,t as u};
