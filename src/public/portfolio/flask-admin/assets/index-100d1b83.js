import{_ as C,a9 as L,r as s,o as n,A as u,n as t,b as e,C as M,g as P,c as y,M as I,N,a as w,t as T,k as v,aa as J,p as Q,d as X,e as U,ab as Y,ac as Z,u as ee,l as g,ad as te,ae as ne,af as oe,ag as ae,ah as q,f as j,ai as se,a5 as ce,H as le,w as re,V as _e,aj as ue,m as R,ak as ie,al as de}from"./index-bf47055b.js";import{u as F,c as D,a as pe,b as me}from"./tabs-c715ff7d.js";const fe={__name:"Hamburger",setup(o){const a=L(),i=()=>{a.setSidebarOpened()};return(l,_)=>{const c=s("Menu"),m=s("el-icon");return n(),u(m,{class:"hamburger",size:20,onClick:i},{default:t(()=>[e(c)]),_:1})}}},be=C(fe,[["__scopeId","data-v-fb12be0f"]]);const he=o=>(Q("data-v-7bcbbf51"),o=o(),X(),o),ve=he(()=>w("span",null,"首页",-1)),xe={__name:"Breadcrumb",setup(o){const a=M(),i=P(()=>a.meta.breadcrumb);return(l,_)=>{const c=s("el-breadcrumb-item"),m=s("el-breadcrumb");return n(),u(m,{separator:"/","separator-icon":v(J),class:"navbar-breadcrumb"},{default:t(()=>[e(c,{key:"home"},{default:t(()=>[ve]),_:1}),(n(!0),y(I,null,N(i.value,(d,b)=>(n(),u(c,{key:b},{default:t(()=>[w("span",null,T(d),1)]),_:2},1024))),128))]),_:1},8,["separator-icon"])}}},ye=C(xe,[["__scopeId","data-v-7bcbbf51"]]);const ke={class:"navbar-left"},ge={__name:"NavbarLeft",setup(o){return L(),(a,i)=>(n(),y("div",ke,[e(be),e(ye)]))}},we=C(ge,[["__scopeId","data-v-10386429"]]),W=()=>{const o=U(),a=M(),i=F();return{onRefresh:()=>{i.delCachedView(a).then(()=>{Y(()=>{o.replace({path:"/redirect"+a.path,query:{...a.query}}).catch(_=>{console.warn(_)})})})}}},Ce={__name:"Refresh",setup(o){const{onRefresh:a}=W();return(i,l)=>{const _=s("el-button");return n(),u(_,{icon:"Refresh",size:"large",onClick:v(a),text:"",style:{"font-size":"16px"}},null,8,["onClick"])}}},$e={__name:"Fullscreen",setup(o){const{toggle:a}=Z();return(i,l)=>{const _=s("el-button");return n(),u(_,{icon:"FullScreen",size:"large",onClick:v(a),text:"",style:{"font-size":"16px"}},null,8,["onClick"])}}};const Se={class:"tabs-popover"},Ve={__name:"User",setup(o){const a=ee(),i=U(),l=()=>{i.push({path:"/profile/password"})},_=()=>{a.logoutAction().then(()=>{location.reload()})};return(c,m)=>{const d=s("el-button"),b=s("User",!0),x=s("el-icon"),V=s("el-text"),$=s("el-popover");return n(),u($,{placement:"bottom-start",trigger:"hover",width:100},{reference:t(()=>[e(d,{class:"account-wrapper",size:"large",text:""},{default:t(()=>[e(x,{size:"large"},{default:t(()=>[e(b)]),_:1}),e(V,{class:"account",truncated:""},{default:t(()=>[g(T(v(a).user.username),1)]),_:1}),e(x,{size:"large"},{default:t(()=>[e(v(te))]),_:1})]),_:1})]),default:t(()=>[w("div",Se,[e(d,{onClick:l,text:"",icon:"Edit"},{default:t(()=>[g("修改密码")]),_:1}),e(d,{onClick:_,text:"",icon:"Close"},{default:t(()=>[g("退出登录")]),_:1})])]),_:1})}}},Re=C(Ve,[["__scopeId","data-v-70529740"]]);const Ie={class:"navbar-right"},Ne={__name:"NavbarRight",setup(o){return(a,i)=>(n(),y("div",Ie,[e(Ce),e($e),e(Re)]))}},Te=C(Ne,[["__scopeId","data-v-ed601cb0"]]),Be={class:"layout-card"},Oe={__name:"index",setup(o){const a=F();return(i,l)=>{const _=s("el-scrollbar"),c=s("el-main");return n(),u(_,null,{default:t(()=>[e(c,{class:"layout-main"},{default:t(()=>[e(_,{class:"layout-scrollbar"},{default:t(()=>[w("div",Be,[e(v(ne),null,{default:t(({Component:m,route:d})=>[(n(),u(oe,{include:[...v(a).cachedViews]},[(n(),u(ae(m),{key:d.name}))],1032,["include"]))]),_:1})])]),_:1})]),_:1})]),_:1})}}};const ze={class:"tabs-container"},Le={class:"tabs-popover"},Me={__name:"index",setup(o){const{onRefresh:a}=W(),i=()=>{},l=F(),_=q(),c=M(),m=U(),d=j(c.path),b=p=>{l.visitedViews.forEach(r=>{r.contextmenuVisible=!1}),p&&(p.contextmenuVisible=!0)},x=()=>{b(),a()};se(c,()=>{c.name&&B()}),ce(()=>{V(),B()});const V=()=>{const p=$(_.routes);for(const r of p)r.name&&l.addView(r)},$=p=>{let r=[];return p.forEach(f=>{if(f.meta&&f.meta.affix&&r.push({fullPath:f.path,path:f.path,name:f.name,meta:{...f.meta}}),f.children){const z=$(f.children);z.length>=1&&(r=[...r,...z])}}),r},B=()=>{let p=l.visitedViews.find(r=>r.path===c.path);if(l.addView(c),l.addCachedView(c),d.value=c.path,!p){let r=document.getElementsByClassName("tabs-item")[0];setTimeout(function(){r.scrollLeft=r.scrollWidth},0)}},A=p=>{p.path&&m.push(p.path)},O=p=>{const r=l.visitedViews.filter(f=>f.path===p);D(m,r[0])},E=p=>{b(p),D(m,p)},k=p=>{switch(b(),p){case"close":D(m,c);break;case"closeOthers":me(m,c);break;case"closeAll":pe(m,c);break}};return(p,r)=>{const f=s("el-button"),z=s("el-icon"),K=s("el-popover"),G=le("drag");return n(),y("div",ze,[re((n(),y("ul",{class:"tabs-item",onMousedown:i},[(n(!0),y(I,null,N(v(l).visitedViews,h=>(n(),y("li",{key:h.path},[e(K,{onBeforeEnter:S=>b(h),placement:"bottom-start",width:200,trigger:"contextmenu",visible:h.contextmenuVisible,"onUpdate:visible":S=>h.contextmenuVisible=S},{reference:t(()=>[e(f,{class:_e([d.value===h.path?"is-active":"is-no-active","tab-pane"]),onClick:S=>A(h)},{default:t(()=>[g(T(h.title)+" ",1),h.path==="/home"||h.name==="首页"?R("",!0):(n(),u(z,{key:0,onClick:S=>O(h.path)},{default:t(()=>[e(v(ue))]),_:2},1032,["onClick"]))]),_:2},1032,["class","onClick"])]),default:t(()=>[w("div",Le,[d.value===h.path?(n(),u(f,{key:0,onClick:x,text:"",icon:"Refresh"},{default:t(()=>[g("刷新")]),_:1})):R("",!0),h.path==="/home"||h.name==="首页"?R("",!0):(n(),u(f,{key:1,onClick:S=>E(h),text:"",icon:"CircleClose"},{default:t(()=>[g("关闭 ")]),_:2},1032,["onClick"])),d.value===h.path?(n(),u(f,{key:2,onClick:r[0]||(r[0]=S=>k("closeOthers")),text:"",icon:"CircleClose"},{default:t(()=>[g(" 关闭其他 ")]),_:1})):R("",!0),e(f,{onClick:r[1]||(r[1]=S=>k("closeAll")),text:"",icon:"CircleClose"},{default:t(()=>[g("关闭所有")]),_:1})])]),_:2},1032,["onBeforeEnter","visible","onUpdate:visible"])]))),128))],32)),[[G]])])}}},Ue=C(Me,[["__scopeId","data-v-194ca91d"]]);const Ae={class:"menu-title"},Ee={class:"menu-title"},De={__name:"MenuItem",props:{menu:{type:Object,required:!0}},setup(o){const a=U();L();const i=l=>{if(!l.meta.newOpen){a.push(l.path);return}ie(l.meta.url)?window.open(de(l.meta.url),"_blank"):window.open("#"+l.meta.url,"_blank")};return(l,_)=>{const c=s("BaseSvgIcon"),m=s("menu-item",!0),d=s("el-sub-menu"),b=s("el-menu-item");return o.menu.children.length>0?(n(),u(d,{key:o.menu.path,index:o.menu.path},{title:t(()=>[e(c,{class:"menu-icon",icon:o.menu.meta.icon},null,8,["icon"]),w("span",Ae,T(o.menu.meta.title),1)]),default:t(()=>[(n(!0),y(I,null,N(o.menu.children,x=>(n(),u(m,{key:x.path,menu:x},null,8,["menu"]))),128))]),_:1},8,["index"])):(n(),u(b,{key:o.menu.path,index:o.menu.path,onClick:_[0]||(_[0]=x=>i(o.menu))},{title:t(()=>[w("span",Ee,T(o.menu.meta.title),1)]),default:t(()=>[e(c,{class:"menu-icon",icon:o.menu.meta.icon},null,8,["icon"])]),_:1},8,["index"]))}}},H=C(De,[["__scopeId","data-v-adf09885"]]);const Fe={class:"navbar-container"},He={__name:"index",setup(o){const a=L(),i=q(),l=M(),_=P(()=>{const{path:d}=l;return d}),c=j(document.body.clientWidth<768);return new ResizeObserver(d=>{for(let b of d)c.value=b.contentRect.width<768}).observe(document.body),(d,b)=>{const x=s("BaseSideNavLogo"),V=s("el-menu"),$=s("el-scrollbar"),B=s("el-aside"),A=s("el-header"),O=s("el-container"),E=s("el-drawer");return n(),y(I,null,[e(O,{class:"layout-container"},{default:t(()=>[c.value?R("",!0):(n(),u(B,{key:0,class:"layout-sidebar layout-sidebar-left"},{default:t(()=>[e($,null,{default:t(()=>[e(x,{"sidebar-opened":v(a).sidebarOpened},null,8,["sidebar-opened"]),e(V,{collapse:v(a).sidebarOpened,"default-active":_.value,"text-color":"#000"},{default:t(()=>[(n(!0),y(I,null,N(v(i).menuRoutes,k=>(n(),u(H,{key:k.path,menu:k},null,8,["menu"]))),128))]),_:1},8,["collapse","default-active"])]),_:1})]),_:1})),e(O,null,{default:t(()=>[e(A,{class:"layout-header"},{default:t(()=>[w("div",Fe,[e(we),e(Te)]),e(Ue)]),_:1}),e(Oe)]),_:1})]),_:1}),c.value?(n(),u(E,{key:0,class:"layout-drawer",modelValue:v(a).sidebarOpened,"onUpdate:modelValue":b[0]||(b[0]=k=>v(a).sidebarOpened=k),title:"I am the title",direction:"ltr","with-header":!1,size:"70%"},{default:t(()=>[e($,null,{default:t(()=>[e(x),e(V,{"default-active":_.value,"text-color":"#000"},{default:t(()=>[(n(!0),y(I,null,N(v(i).menuRoutes,k=>(n(),u(H,{key:k.path,menu:k},null,8,["menu"]))),128))]),_:1},8,["default-active"])]),_:1})]),_:1},8,["modelValue"])):R("",!0)],64)}}},je=C(He,[["__scopeId","data-v-7da8bbd9"]]);export{je as default};
