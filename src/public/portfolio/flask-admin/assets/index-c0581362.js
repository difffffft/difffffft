import{G as U,f as k,r as i,H as b,o as a,A as o,n as e,b as n,w as _,l as r,k as d,T as E,m as f,c as H,s as M}from"./index-bf47055b.js";import N from"./add-or-update-a76eaa46.js";import"./useRefFormData-84c825c7.js";import"./lodash-3ffe41b4.js";const S={key:0},V=M({name:"SysMenu"}),P=Object.assign(V,{setup($){const{state:m,getDataList:v,deleteHandle:C}=U({baseUrl:"/sys/menu",isPage:!1}),y=k(),g=c=>{y.value.init(c)},w=k(),R=c=>{w.value.toggleRowExpansion(c,void 0)};return(c,h)=>{const p=i("el-button"),x=i("el-form-item"),L=i("el-form"),l=i("el-table-column"),B=i("BaseSvgIcon"),s=i("el-tag"),D=i("el-card"),u=b("auth"),O=b("loading");return a(),o(D,{class:"mod__menu"},{default:e(()=>[n(L,{inline:!0},{default:e(()=>[n(x,null,{default:e(()=>[_((a(),o(p,{type:"primary",onClick:h[0]||(h[0]=t=>g())},{default:e(()=>[r("新增")]),_:1})),[[u,"sys:menu:save"]])]),_:1})]),_:1}),_((a(),o(d(E),{ref_key:"elMenuTable",ref:w,onRowClick:R,data:d(m).dataList,"row-key":"id",border:"",style:{width:"100%"}},{default:e(()=>[n(l,{prop:"name",label:"名称","header-align":"center","min-width":"150"}),n(l,{prop:"icon",label:"图标","header-align":"center",align:"center"},{default:e(t=>[n(B,{icon:t.row.icon},null,8,["icon"])]),_:1}),n(l,{prop:"type",label:"类型","header-align":"center",align:"center"},{default:e(t=>[t.row.type===0?(a(),o(s,{key:0,type:"info"},{default:e(()=>[r("菜单")]),_:1})):f("",!0),t.row.type===1?(a(),o(s,{key:1,type:"success"},{default:e(()=>[r("按钮")]),_:1})):f("",!0),t.row.type===2?(a(),o(s,{key:2,type:"warning"},{default:e(()=>[r("接口")]),_:1})):f("",!0)]),_:1}),n(l,{prop:"open_style",label:"打开方式","header-align":"center",align:"center"},{default:e(t=>[t.row.type!==0?(a(),H("span",S)):t.row.open_style===0?(a(),o(s,{key:1},{default:e(()=>[r("内部打开")]),_:1})):(a(),o(s,{key:2,type:"info"},{default:e(()=>[r("外部打开")]),_:1}))]),_:1}),n(l,{prop:"sort",label:"排序","header-align":"center",align:"center"}),n(l,{prop:"url",label:"路由","header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0}),n(l,{prop:"authority",label:"授权标识","header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0}),n(l,{label:"操作",fixed:"right","header-align":"center",align:"center",width:"150"},{default:e(t=>[_((a(),o(p,{type:"primary",link:"",onClick:T=>g(t.row.id)},{default:e(()=>[r("修改 ")]),_:2},1032,["onClick"])),[[u,"sys:menu:update"]]),_((a(),o(p,{type:"primary",link:"",onClick:T=>d(C)(t.row.id)},{default:e(()=>[r("删除")]),_:2},1032,["onClick"])),[[u,"sys:menu:delete"]])]),_:1})]),_:1},8,["data"])),[[O,d(m).dataListLoading]]),n(N,{ref_key:"addOrUpdateRef",ref:y,onRefreshDataList:d(v)},null,8,["onRefreshDataList"])]),_:1})}}});export{P as default};
